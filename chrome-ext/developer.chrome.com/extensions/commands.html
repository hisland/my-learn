<!DOCTYPE html>
<html>
  <head>
    <title>chrome.commands - Google Chrome</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link href="../static/css/site.css" rel="stylesheet" type="text/css">
    <link href="../static/css/print.css" rel="stylesheet" type="text/css" media="print">
    <link href="../static/css/prettify.css" rel="stylesheet" type="text/css">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-41980257-1');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="gc-topnav">
      <table><tr>
      <td id="chrome-logo">
        <a href="index.html" title="Google Chrome Extensions">
          <img src="../static/images/chrome-logo.png" alt=""> chrome
        </a>
        <div id="platform-chooser">
          <button id="platform-chooser-toggle" data-menu="platform-chooser-popup">
            extensions &#x25be;&#x202F;
          </button>
          <div id="platform-chooser-popup">
            <button class="apps" data-href="/apps/about_apps.html">apps</button>
            <button class="extensions" data-href="/extensions">extensions</button>
          </div>
        </div>
      </td>
      <td>
        <ul>
          <li>
            <a href="samples.html"
               title="Sample Extensions (with source code)">Samples</a>
          </li>
          <li>
            <a href="http://groups.google.com/a/chromium.org/group/chromium-extensions"
               title="Google Chrome Extensions developer forum"
               target="_blank">Group</a>
          </li>
          <li>
            <a href="http://stackoverflow.com/tags/google-chrome-extension/info"
               title="[google-chrome-extension] tag on Stack Overflow"
               target="_blank">Stack overflow</a>
          </li>
        </ul>
      </td>
      </tr></table>
    </div>
    <div id="gc-topnav-space"></div>
    <div id="gc-container">
      <div id="gc-sidebar">
        <ul 
            class="level1 ">
        <li class="level2">
              <a href="getstarted.html" class="level2 ">Getting Started</a>
        </li><li class="level2">
              <a href="overview.html" class="level2 ">Overview</a>
        </li><li class="level2">
              <a href="whats_new.html" class="level2 ">What's New?</a>
        </li><li class="level2">
              <a href="devguide.html" class="level2 ">Developer's Guide</a>
          <ul 
              class="level2 ">
          <li class="level3">
              <a class="button level3">
                <span class="level3">Browser UI</span>
                <div class="toggleIndicator level3"></div>
              </a>
            <ul toggleable
                class="level3 hidden">
            <li class="level4">
                  <a href="browserAction.html" class="level4 ">Browser Actions</a>
            </li><li class="level4">
                  <a href="contextMenus.html" class="level4 ">Context Menus</a>
            </li><li class="level4">
                  <a href="desktop_notifications.html" class="level4 ">Desktop Notifications</a>
            </li><li class="level4">
                  <a href="omnibox.html" class="level4 ">Omnibox</a>
            </li><li class="level4">
                  <a href="options.html" class="level4 ">Options Pages</a>
            </li><li class="level4">
                  <a href="override.html" class="level4 ">Override Pages</a>
            </li><li class="level4">
                  <a href="pageAction.html" class="level4 ">Page Actions</a>
            </li>
            </ul>
          </li><li class="level3">
              <a class="button level3">
                <span class="level3">Browser Interaction</span>
                <div class="toggleIndicator level3"></div>
              </a>
            <ul toggleable
                class="level3 hidden">
            <li class="level4">
                  <a href="bookmarks.html" class="level4 ">Bookmarks</a>
            </li><li class="level4">
                  <a href="cookies.html" class="level4 ">Cookies</a>
            </li><li class="level4">
                  <a href="devtools.html" class="level4 ">Extending DevTools</a>
            </li><li class="level4">
                  <a href="events.html" class="level4 ">Events</a>
            </li><li class="level4">
                  <a href="history.html" class="level4 ">History</a>
            </li><li class="level4">
                  <a href="management.html" class="level4 ">Management</a>
            </li><li class="level4">
                  <a href="tabs.html" class="level4 ">Tabs</a>
            </li><li class="level4">
                  <a href="windows.html" class="level4 ">Windows</a>
            </li>
            </ul>
          </li><li class="level3">
              <a class="button level3">
                <span class="level3">Implementation</span>
                <div class="toggleIndicator level3"></div>
              </a>
            <ul toggleable
                class="level3 hidden">
            <li class="level4">
                  <a href="a11y.html" class="level4 ">Accessibility</a>
            </li><li class="level4">
                  <a href="event_pages.html" class="level4 ">Event Pages</a>
            </li><li class="level4">
                  <a href="contentSecurityPolicy.html" class="level4 ">Content Security Policy</a>
            </li><li class="level4">
                  <a href="content_scripts.html" class="level4 ">Content Scripts</a>
            </li><li class="level4">
                  <a href="xhr.html" class="level4 ">Cross-Origin XHR</a>
            </li><li class="level4">
                  <a href="i18n.html" class="level4 ">Internationalization</a>
            </li><li class="level4">
                  <a href="messaging.html" class="level4 ">Message Passing</a>
            </li><li class="level4">
                  <a href="permissions.html" class="level4 ">Optional Permissions</a>
            </li><li class="level4">
                  <a href="npapi.html" class="level4 ">NPAPI Plugins</a>
            </li>
            </ul>
          </li><li class="level3">
              <a class="button level3">
                <span class="level3">Finishing</span>
                <div class="toggleIndicator level3"></div>
              </a>
            <ul toggleable
                class="level3 hidden">
            <li class="level4">
                  <a href="hosting.html" class="level4 ">Hosting</a>
            </li><li class="level4">
                  <a href="external_extensions.html" class="level4 ">Other Deployment Options</a>
            </li>
            </ul>
          </li>
          </ul>
        </li><li class="level2">
              <a href="tutorials.html" class="level2 ">Tutorials</a>
          <ul 
              class="level2 ">
          <li class="level3">
                <a href="tut_migration_to_manifest_v2.html" class="level3 ">Manifest V2</a>
          </li><li class="level3">
                <a href="tut_debugging.html" class="level3 ">Debugging</a>
          </li><li class="level3">
                <a href="tut_analytics.html" class="level3 ">Google Analytics</a>
          </li><li class="level3">
                <a href="tut_oauth.html" class="level3 ">OAuth</a>
          </li>
          </ul>
        </li><li class="level2">
              <span class="level2">Reference</span>
          <ul 
              class="level2 ">
          <li class="level3">
              <a class="button level3">
                <span class="level3">Formats</span>
                <div class="toggleIndicator level3"></div>
              </a>
            <ul toggleable
                class="level3 hidden">
            <li class="level4">
                  <a href="manifest.html" class="level4 ">Manifest Files</a>
            </li><li class="level4">
                  <a href="match_patterns.html" class="level4 ">Match Patterns</a>
            </li>
            </ul>
          </li><li class="level3">
                <a href="permission_warnings.html" class="level3 ">Permission Warnings</a>
          </li><li class="level3">
                <a href="api_index.html" class="level3 ">chrome.* APIs</a>
          </li><li class="level3">
                <a href="api_other.html" class="level3 ">Other APIs</a>
          </li>
          </ul>
        </li><li class="level2">
              <span class="level2">More</span>
          <ul 
              class="level2 ">
          <li class="level3">
                <a href="faq.html" class="level3 ">FAQ</a>
          </li><li class="level3">
                <a href="http://code.google.com/chrome/webstore/docs/index.html" class="level3 ">Chrome Web Store</a>
          </li><li class="level3">
                <a href="http://code.google.com/chrome/apps/docs/developers_guide.html" class="level3 ">Hosted Apps</a>
          </li><li class="level3">
                <a href="themes.html" class="level3 ">Themes</a>
          </li>
          </ul>
        </li>
        </ul>
      </div>
      <div id="gc-pagecontent">

<h1>chrome.commands</h1>
<div id="toc">
  <ol>
    <li >
      <a href="commands.html#manifest"
         data-list-item
         >Manifest</a>
    </li>
    <li >
      <a href="commands.html#usage"
         data-list-item
         >Usage</a>
    </li>
    <li class="separator">
      <a href="commands.html#types"
         data-list-item
         >Types</a>
      <ol>
        <li >
          <a href="commands.html#type-Command"
             data-list-item
             >Command</a>
        </li>
      </ol>
    </li>
    <li >
      <a href="commands.html#methods"
         data-list-item
         >Methods</a>
      <ol>
        <li >
          <a href="commands.html#method-getAll"
             data-list-item
             >getAll        </a>
        </li>
      </ol>
    </li>
    <li >
      <a href="commands.html#events"
         data-list-item
         >Events</a>
      <ol>
        <li >
          <a href="commands.html#event-onCommand"
             data-list-item
             >onCommand</a>
        </li>
      </ol>
    </li>
  </ol>
</div>

<table class="intro" id="intro">
  <tr>
    <td class="title">Description:</td>
    <td>
        Use the commands API to add keyboard shortcuts that trigger actions in your extension, for example, an action to open the browser action or send a command to the extension.
                <br>
    </td>
  </tr>
  <tr>
    <td class="title">Availability:</td>
    <td>
        Stable since Chrome 25.
        <br>
    </td>
  </tr>
  <tr>
    <td class="title">Manifest:</td>
    <td>
        <span class="code">
        "commands": {...}
                </span>
        <br>
    </td>
  </tr>
</table>
<section>
<h2 id="manifest">Manifest</h2>
<p>
You must set manifest_version to (at least) 2 to use this API.
</p>

<h2 id="usage">Usage</h2>
<p>The commands API allows you to define specific commands, and bind them to a
default key combination. Each command your extension accepts must be listed in
the manifest as an attribute of the 'commands' manifest key. An extension can
have many commands but only 4 suggested keys can be specified. The user can
manually add more shortcuts from the chrome://extensions page.</p>

<p>Supported keys: A-Z, 0-9, Comma, Period, Home, End, PageUp, PageDown, Insert,
Delete, Arrow keys (Up, Down, Left, Right) and the Media Keys
(MediaNextTrack, MediaPlayPause, MediaPrevTrack, MediaStop).</p>

<p>Note: All key combinations must include either Ctrl* or Alt. Combinations
that involve Ctrl+Alt are not permitted in order to avoid conflicts with the
AltGr key. Shift can be used in addition to Alt or Ctrl, but is not required.
Modifiers (such as Ctrl) can not be used in combination with the Media Keys.
Tab key was removed from list of supported keys in Chrome version 33 and above
for accessibility reasons.<p>

<p>* Also note that on Mac 'Ctrl' is automatically converted to 'Command'. If
you want 'Ctrl' instead, please specify 'MacCtrl'.</p>

<p>Certain Chrome shortcuts (e.g. window management) always take priority over
Extension Command shortcuts and can not be overwritten.</p>

<pre data-filename="manifest.json">
{
  "name": "My extension",
  ...
<b>  "commands": {
    "toggle-feature-foo": {
      "suggested_key": {
        "default": "Ctrl+Shift+Y",
        "mac": "Command+Shift+Y"
      },
      "description": "Toggle feature foo"
    },
    "_execute_browser_action": {
      "suggested_key": {
        "windows": "Ctrl+Shift+Y",
        "mac": "Command+Shift+Y",
        "chromeos": "Ctrl+Shift+U",
        "linux": "Ctrl+Shift+J"
      }
    },
    "_execute_page_action": {
      "suggested_key": {
        "default": "Ctrl+E",
        "windows": "Alt+P",
        "mac": "Option+P"
      }
    }
  }</b>,
  ...
}</pre>

<p>In your background page, you can bind a handler to each of the commands
defined in the manifest (except for '_execute_browser_action' and
'_execute_page_action') via onCommand.addListener. For example:</p>

<pre>
chrome.commands.onCommand.addListener(function(command) {
  console.log('Command:', command);
});
</pre>

<p>The '_execute_browser_action' and '_execute_page_action' commands are
reserved for the action of opening your extension's popups. They won't normally
generate events that you can handle. If you need to take action based on your
popup opening, consider listening for an 'onDomReady' event inside your popup's
code.
</p>
</section>
<section>
<h2 id="api-reference-header" title="">chrome.commands reference</h2>
<div class="api_reference">
    <h2 id="types">Types</h2>
      <div>
        <h3 id="type-Command">Command</h3>
        <div>
            <h3 id="Command-properties" class="capitalize" title="">
              properties of <a href="commands.html#type-Command">Command</a>
            </h3>
            <dd>
              <dl>
                <div>
                  <a name="property-Command-name"></a>
                  <dl>
                    <dt>
                      <h4 id="property-Command-name" title="">
                        name
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            string
                          )
                        </span>
                      </h4>
                    </dt>
                    <dd>
                      The name of the Extension Command
                    </dd>
                  </dl>
                </div><div>
                  <a name="property-Command-description"></a>
                  <dl>
                    <dt>
                      <h4 id="property-Command-description" title="">
                        description
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            string
                          )
                        </span>
                      </h4>
                    </dt>
                    <dd>
                      The Extension Command description
                    </dd>
                  </dl>
                </div><div>
                  <a name="property-Command-shortcut"></a>
                  <dl>
                    <dt>
                      <h4 id="property-Command-shortcut" title="">
                        shortcut
                        <span class="property">
                          (
                            <span class="optional">optional</span>
                            string
                          )
                        </span>
                      </h4>
                    </dt>
                    <dd>
                      The shortcut active for this command, or blank if not active.
                    </dd>
                  </dl>
                </div>
              </dl>
            </dd>
        </div>
      </div>
    <h2 id="methods">Methods</h2>
      <div>
        <h3
            id="method-getAll"
            >getAll
        </h3>
        <div class="summary uncapitalize">
        <div class="line">
        <span>chrome.commands.getAll</span>(<span class="optional">function callback</span>)
        </div>
        </div>
        <div class="description">
          <p>
            Returns all the registered extension commands for this extension and their shortcut (if active).
          </p>
          <h4 title="">Parameters</h4>
          <dl>
              <div>
                <a name="property-getAll-callback"></a>
                <dl>
                  <dt>
                    <h4 id="property-getAll-callback" title="">
                      callback
                      <span class="property">
                        (
                          <span class="optional">optional</span>
                          function
                        )
                      </span>
                    </h4>
                  </dt>
                  <dd>
                    Called to return the registered commands.
                  </dd>
                </dl>
              </div>
          </dl>
            <p>
                  If you specify the <em>callback</em> parameter, it should
                  specify a function that looks like this:
            </p>
            <pre>function(array of <a href="commands.html#type-Command">Command</a> commands) <span class="subdued">{...}</span>;</pre>
            <dl>
                <div>
                  <a name="property-callback-commands"></a>
                  <dl>
                    <dt>
                      <h4 id="property-callback-commands" title="">
                        commands
                        <span class="property">
                          (
                            array of <a href="commands.html#type-Command">Command</a>
                          )
                        </span>
                      </h4>
                    </dt>
                    <dd>
                    </dd>
                  </dl>
                </div>
            </dl>
        </div>
      </div>
    <h2 id="events">Events</h2>
      <div>
        <h3 id="event-onCommand">onCommand</h3>
        <div class="description">
      <p>
            Fired when a registered command is activated using a keyboard shortcut.
          </p>      <div>
              <h4
                  title="">addListener
              </h4>
              <div class="summary uncapitalize">
              <div class="line">
              <span>chrome.commands.onCommand.addListener</span>(<span>function callback</span>)
              </div>
              </div>
              <div class="description">
                <h4 title="">Parameters</h4>
                <dl>
                    <div>
                      <a name="property-onCommand-callback"></a>
                      <dl>
                        <dt>
                          <h4 id="property-onCommand-callback" title="">
                            callback
                            <span class="property">
                              (
                                function
                              )
                            </span>
                          </h4>
                        </dt>
                        <dd>
                        </dd>
                      </dl>
                    </div>
                </dl>
                  <p>
                        The <em>callback</em> parameter should specify a function
                        that looks like this:
                  </p>
                  <pre>function(string command) <span class="subdued">{...}</span>;</pre>
                  <dl>
                      <div>
                        <a name="property-onCommand-command"></a>
                        <dl>
                          <dt>
                            <h4 id="property-onCommand-command" title="">
                              command
                              <span class="property">
                                (
                                  string
                                )
                              </span>
                            </h4>
                          </dt>
                          <dd>
                          </dd>
                        </dl>
                      </div>
                  </dl>
              </div>
            </div>
        </div>
      </div>
</div>
</section>
      </div>
    </div>
  </body>

  <div id="gc-footer">
    <button class="google-button" id="scroll-to-top">↑</button>
    <button class="google-button" id="send-feedback">Send Feedback</button>
    <div class="text">
      <p>
        Except as otherwise <a href="http://code.google.com/policies.html#restrictions">noted</a>,
        the content of this page is licensed under the <a rel="license" href="http://creativecommons.org/licenses/by/3.0/">Creative Commons
        Attribution 3.0 License</a>, and code samples are licensed under the
        <a rel="license" href="http://code.google.com/google_bsd_license.html">BSD License</a>.
      </p>
      <p>
        ©2013 Google
      </p>
      <script src="../static/js/platform_chooser.js" type="text/javascript"></script>
      <script src="../static/js/popup.js" type="text/javascript"></script>
      <script src="../static/js/prettify.js" type="text/javascript"></script>
      <script src="../static/js/scroll.js" type="text/javascript"></script>
      <script src="../static/js/sidebar.js" type="text/javascript"></script>
      <script src="../static/js/tabs.js" type="text/javascript"></script>
      <script>
        (function() {
          // Auto syntax highlight all pre tags.
          var preElements = document.getElementsByTagName('pre');
          for (var i = 0; i < preElements.length; i++) {
            var preElement = preElements[i];
            preElement.classList.add('prettyprint');
            var datasetFilename = preElement.getAttribute('data-filename');
            if (datasetFilename) {
              var filename = document.createElement('div');
              filename.className = 'filename nocode';
              filename.textContent = datasetFilename;
              preElement.insertBefore(filename, preElement.firstChild);
            }
          }
          prettyPrint();
        })();
      </script>

      <!-- Feedback. -->
      <script type="text/javascript" src="http://www.gstatic.com/feedback/api.js"></script>
      <script type="text/javascript">
        (function() {
         document.getElementById('send-feedback').addEventListener('click', function() {
           userfeedback.api.startFeedback({ productId: 86265 });
         });
        })();
      </script>
    </div>
  </div>
</html>
