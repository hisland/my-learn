<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <style>

  </style>
</head>

<body>
  <div id="app">
  </div>
  <pre>
    * 用 render-fn 实现 v-model 指令
    * someVar是 reactive 的, 但是要在 data 里面<strong style="color:red;">初始化</strong>, 跟正常的使用一样
  </pre>
  <script crossorigin="anonymous"
    integrity="sha384-+jvb+jCJ37FkNjPyYLI3KJzQeD8pPFXUra3B/QJFqQ3txYrUPIP1eOfxK4h3cKZP"
    src="https://lib.baomitu.com/vue/2.6.11/vue.js"></script>
  <script>
    var comp2 = {
      render(h) {
        var self = this
        return h('div', [
          h('input', {
            domProps: {
              value: self.someVar
            },
            on: {
              input: function (e) {
                self.someVar = e.target.value
              }
            }
          }),
          h('span', [self.someVar])
        ]);
      },
      data: function () {
        console.log('comp: init data')
        return {
          someVar: 'someVar data',
        };
      },
    }
    var vm = new Vue(comp2)
    vm.$mount('#app')
  </script>
</body>

</html>
