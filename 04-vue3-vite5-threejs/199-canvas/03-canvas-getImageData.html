<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Canvas scale 示例</title>
    <style>
      canvas {
        background: pink;
      }
    </style>
  </head>
  <body>
    <h2>默认 canvas 以及效果</h2>
    <div>这里 父元素的宽度是有的, 高度没有, 结果是以宽度为准的等比缩放</div>
    <img id="img1" />
    <div>
      <canvas id="canvas11"></canvas>
    </div>
    <script type="module">
      const img1 = document.getElementById('img1')
      img1.src = './img/img1.png'
      img1.onload = () => {
        {
          const canvas = document.getElementById('canvas11')
          canvas.width = img1.naturalWidth
          canvas.height = img1.naturalHeight
          const ctx2 = canvas.getContext('2d')
          ctx2.drawImage(img1, 0, 0)

          const topRow = ctx2.getImageData(0, 0, canvas.width, 1)
          console.log('topRow: ', topRow)
        }
      }
    </script>
  </body>
</html>
