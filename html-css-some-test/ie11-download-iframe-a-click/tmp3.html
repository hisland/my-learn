<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <div>tmp3

    <button id="down">down</button>
  </div>
  <script>
    window.onload = function () {
      console.log('tmp3 onload')

      function getBrowserInfo() {
        const ua = navigator.userAgent
        let M = ua.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i) || [];
        let tem
        if (/trident/i.test(M[1])) {
          tem = /\brv[ :]+(\d+)/g.exec(ua) || [];
          return { name: 'IE', version: (tem[1] || '') };
        }
        if (M[1] === 'Chrome') {
          tem = ua.match(/\bOPR|Edge\/(\d+)/)
          if (tem != null) { return { name: 'Opera', version: tem[1] }; }
        }
        M = M[2] ? [M[1], M[2]] : [navigator.appName, navigator.appVersion, '-?'];
        if ((tem = ua.match(/version\/(\d+)/i)) != null) {
          M.splice(1, 1, tem[1]);
        }
        return {
          name: M[0],
          version: M[1]
        };
      }

      console.log(getBrowserInfo())


      document.getElementById('down').onclick = function () {
        console.log('down')

        var a1 = document.createElement('a')
        a1.setAttribute('target', '_blank')
        a1.setAttribute('href', 'https://rzhdev.polaris.pub/file/api/attachments/download/1512327615624122370?access_token=--AOvxERX5gy0gwXNLd2zYLqxhI')
        a1.setAttribute('download', '')
        a1.style.position = 'absolute'
        a1.style.visibility = 'hidden'
        document.body.appendChild(a1);
        // setTimeout(function () {
        //   document.body.removeChild(a1);
        // }, 500);
        a1.click()


        // var downloadURL = 'https://rzhtest.polaris.pub/file/api/attachments/download/1512268439690489858?access_token=YXo838SeSPu2rzTQDWh6PGgpkek';
        // var iframe = document.createElement("iframe");
        // iframe.src = downloadURL;
        // iframe.style.display = "none";
        // document.body.appendChild(iframe);
        // setTimeout(function () {
        //   document.body.removeChild(iframe);
        // }, 500);
      }


    }
  </script>
</body>

</html>
