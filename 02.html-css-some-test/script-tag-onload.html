<!DOCTYPE html>
<html>

<head>
  <title>new document</title>
  <meta http-equiv="content-type" content="text/html;charset=utf-8" />
</head>

<body>
  <script>
    window.onload = function () {
      console.log(11)

      setTimeout(addScript, 300);

      function addScript() {
        console.log(22)

        loadScript('https://lib.baomitu.com/vue/2.5.19/vue.min.js', function () {
          console.log(33, Vue)
        });
      }
    }

    function loadScript(url, callback) {
      let head = document.getElementsByTagName('head')[0];
      let script = document.createElement('script');
      script.type = 'text/javascript';
      if (script.readyState) {
        //IE
        script.onreadystatechange = function () {
          if (this.readyState == 'complete' || script.readyState == "loaded") {
            script.onreadystatechange = null;
            callback();
          }
        }
      } else {
        //其他浏览器
        script.onload = function () {
          callback();
        };
      }
      script.src = url;
      head.appendChild(script);
    }

  </script>
</body>

</html>
